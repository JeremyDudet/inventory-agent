Test Suite Summary
=================

Total Test Suites: 14
Passed: 7
Failed: 7

Failing Test Files and Cases
===========================

1. src/__tests__/services/nlpService.test.ts
-------------------------------------------

Multiple Commands Processing:
- "should handle natural language with multiple items and quantities"
  Error: Expected object to match expected values
  - Expected: action="add", isComplete=true
  - Received: action="", isComplete=false

OpenAI Processing:
- "should process multiple commands using OpenAI"
  Error: Expected array length: 2
  Received length: 3

- "should handle undo commands using OpenAI"
  Error: Expected object to match expected values
  - Expected: unit=""
  - Received: unit="units"

- "should handle mixed command types using OpenAI"
  Error: Expected array length: 3
  Received length: 5

Rule-Based Multiple Command Processing:
- "should process multiple commands with 'and'"
  Error: Expected object to match expected values
  - Expected: action="add", confidence=0.95, isComplete=true
  - Received: action="", confidence=0.6, isComplete=false

- "should process multiple commands with commas"
  Error: Expected object to match expected values
  - Expected: confidence=0.95, isComplete=true, item="tea", quantity=20
  - Received: confidence=0.6, isComplete=false, item="tea boxes", quantity=undefined

- "should handle undo commands"
  Error: Expected object to match expected values
  - Expected: confidence=0.95, isComplete=true, item=""
  - Received: confidence=0.8, isComplete=false, item="item"

- "should handle incomplete commands"
  Error: Expected object to match expected values
  - Expected: confidence=0.6, isComplete=false, item="10 gallons", quantity=10
  - Received: confidence=0.95, isComplete=true, item="gallons", quantity=undefined

- "should handle natural language with multiple items"
  Error: Expected object to match expected values
  - Expected: action="add", confidence=0.95, isComplete=true
  - Received: action="", confidence=0.6, isComplete=false

Context Merging with Multiple Commands:
- "should maintain context across incomplete commands"
  Error: Expected object to match expected values
  - Expected: confidence=0.6, isComplete=false, item="10 gallons", quantity=10
  - Received: confidence=0.95, isComplete=true, item="gallons", quantity=undefined

- "should handle undo commands without context merging"
  Error: Expected array length: 2
  Received length: 1

- "should clear context after complete commands"
  Error: Expected: false
  Received: true

- "should handle mixed complete and incomplete commands"
  Error: Expected object to match expected values
  - Expected: confidence=0.6, isComplete=false, item="10 gallons", quantity=10
  - Received: confidence=0.95, isComplete=true, item="gallons", quantity=undefined

2. src/__tests__/voiceCommand.test.ts
------------------------------------

Voice Command Processing:
- "should handle incomplete commands gracefully"
  Error: Expected: 0.45
  Received: 0.95

- "should handle commands with missing quantities"
  Error: Expected: 0.8
  Received: 0.95

Code Coverage Summary
====================

Overall Coverage:
- Statements: 41.21%
- Branches: 29.34%
- Functions: 51.3%
- Lines: 40.42%

Areas Needing Coverage Improvement:
1. services/authService.ts (4.41% coverage)
2. services/confirmationService.ts (5.52% coverage)
3. services/inventoryService.ts (9.3% coverage)
4. services/nlpService.ts (67.57% coverage)
5. services/speechFeedbackService.ts (56.25% coverage) 